---
import Base from '@layouts/Base.astro';

// In production, this would come from the database
const featuredQuestions = [
  {
    slug: 'what-does-dollar-underscore-mean-in-perl',
    title: 'What does $_ mean in Perl?',
    category: 'basics',
  },
  {
    slug: 'how-to-read-file-in-perl',
    title: 'How to read a file in Perl?',
    category: 'file-handling',
  },
  {
    slug: 'perl-regex-match-operator',
    title: 'How does the =~ regex match operator work?',
    category: 'regex',
  },
  {
    slug: 'perl-hash-vs-array',
    title: 'What is the difference between hash and array in Perl?',
    category: 'data-structures',
  },
];

const topics = [
  { name: 'Regex', slug: 'regex', count: 245 },
  { name: 'File Handling', slug: 'file-handling', count: 189 },
  { name: 'One-Liners', slug: 'one-liners', count: 156 },
  { name: 'Data Structures', slug: 'data-structures', count: 134 },
  { name: 'CPAN Modules', slug: 'cpan-modules', count: 312 },
  { name: 'Legacy Code', slug: 'legacy-code', count: 98 },
];
---

<Base title="PerlCode - The AI that actually understands Perl">
  <!-- Hero Section -->
  <section class="relative overflow-hidden bg-gradient-to-b from-perl-50 to-white dark:from-dark-800 dark:to-dark-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 sm:py-32">
      <div class="text-center">
        <h1 class="text-4xl sm:text-5xl lg:text-6xl font-bold tracking-tight mb-6">
          The AI that actually<br />
          <span class="text-perl-500">understands Perl</span>
        </h1>
        <p class="text-lg sm:text-xl text-gray-600 dark:text-gray-400 max-w-2xl mx-auto mb-8">
          Get instant answers to your Perl questions with working code examples.
          Built for developers maintaining legacy code, DevOps engineers, and Perl enthusiasts.
        </p>

        <!-- Search Box -->
        <div class="max-w-xl mx-auto">
          <div class="relative">
            <input
              type="text"
              placeholder="Search questions... (Ctrl+K)"
              class="w-full px-6 py-4 rounded-xl border border-gray-300 dark:border-dark-600 bg-white dark:bg-dark-800 focus:ring-2 focus:ring-perl-500 focus:border-transparent outline-none text-lg"
            />
            <button class="absolute right-4 top-1/2 -translate-y-1/2 p-2 bg-perl-500 text-white rounded-lg hover:bg-perl-600 transition-colors">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
              </svg>
            </button>
          </div>
          <p class="mt-3 text-sm text-gray-500 dark:text-gray-500">
            Try: "What does $_ mean?" or "How to parse CSV in Perl?"
          </p>
        </div>
      </div>
    </div>

    <!-- Decorative background -->
    <div class="absolute inset-0 -z-10 overflow-hidden">
      <svg class="absolute -top-1/2 -right-1/4 w-[800px] text-perl-100 dark:text-perl-900/20" viewBox="0 0 200 200" fill="currentColor">
        <circle cx="100" cy="100" r="100" opacity="0.5" />
      </svg>
    </div>
  </section>

  <!-- Stats Section -->
  <section class="border-b border-gray-200 dark:border-dark-700">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
      <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
        <div>
          <div class="text-3xl font-bold text-perl-500">3,000+</div>
          <div class="text-gray-600 dark:text-gray-400">Questions</div>
        </div>
        <div>
          <div class="text-3xl font-bold text-perl-500">500+</div>
          <div class="text-gray-600 dark:text-gray-400">Topics</div>
        </div>
        <div>
          <div class="text-3xl font-bold text-perl-500">200+</div>
          <div class="text-gray-600 dark:text-gray-400">Functions</div>
        </div>
        <div>
          <div class="text-3xl font-bold text-perl-500">AI</div>
          <div class="text-gray-600 dark:text-gray-400">Powered Chat</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Topics Section -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold mb-8">Browse by Topic</h2>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
        {topics.map((topic) => (
          <a
            href={`/topics/${topic.slug}`}
            class="group p-4 rounded-xl border border-gray-200 dark:border-dark-700 hover:border-perl-500 dark:hover:border-perl-500 transition-colors"
          >
            <div class="font-medium group-hover:text-perl-500 transition-colors">{topic.name}</div>
            <div class="text-sm text-gray-500 dark:text-gray-500">{topic.count} questions</div>
          </a>
        ))}
      </div>
      <div class="mt-6 text-center">
        <a href="/topics" class="text-perl-500 hover:underline">View all topics →</a>
      </div>
    </div>
  </section>

  <!-- Featured Questions -->
  <section class="py-16 bg-gray-50 dark:bg-dark-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-2xl font-bold mb-8">Popular Questions</h2>
      <div class="grid md:grid-cols-2 gap-6">
        {featuredQuestions.map((q) => (
          <a
            href={`/questions/${q.slug}`}
            class="group p-6 bg-white dark:bg-dark-900 rounded-xl border border-gray-200 dark:border-dark-700 hover:border-perl-500 dark:hover:border-perl-500 transition-colors"
          >
            <span class="inline-block px-2 py-1 text-xs font-medium rounded-full bg-perl-100 dark:bg-perl-900/30 text-perl-700 dark:text-perl-400 mb-3">
              {q.category}
            </span>
            <h3 class="text-lg font-medium group-hover:text-perl-500 transition-colors">
              {q.title}
            </h3>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="bg-perl-500 rounded-2xl p-8 md:p-12 text-center text-white">
        <h2 class="text-2xl md:text-3xl font-bold mb-4">
          Can't find what you're looking for?
        </h2>
        <p class="text-perl-100 mb-6 max-w-xl mx-auto">
          Ask our AI assistant. It's trained on thousands of Perl questions and
          the official documentation to give you accurate, grounded answers.
        </p>
        <button
          id="open-chat"
          class="px-6 py-3 bg-white text-perl-600 font-medium rounded-lg hover:bg-perl-50 transition-colors"
        >
          Ask a Question →
        </button>
      </div>
    </div>
  </section>
</Base>
